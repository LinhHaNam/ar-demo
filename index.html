<!DOCTYPE html>
<html lang="vi">
<head>
    <title>Web AR - ƒêi·ªÅu khi·ªÉn xoay</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
        body { margin: 0; font-family: sans-serif; background-color: #eee; }
        model-viewer { width: 100%; height: 70vh; background: radial-gradient(#ffffff, #bbbbbb); }
        
        /* C·∫•u tr√∫c c√°c n√∫t ƒëi·ªÅu khi·ªÉn */
        .controls-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
        }

        button.nav-btn {
            padding: 12px 18px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 10px;
            background-color: #333;
            color: white;
            transition: 0.3s;
        }

        button.nav-btn:active { transform: scale(0.9); background-color: #007bff; }

        #ar-button {
            background-color: #28a745;
            color: white;
            border-radius: 30px;
            border: none;
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <model-viewer 
        id="orbit-demo"
        src="https://modelviewer.dev/shared-assets/models/Astronaut.glb" 
        ar 
        ar-modes="webxr scene-viewer quick-look" 
        ar-placement="floor"
        ar-scale="fixed"
        camera-controls 
        shadow-intensity="2" 
        environment-image="neutral"
        interpolation-decay="200"
        camera-orbit="0deg 75deg auto">
        
        <button slot="ar-button" id="ar-button">üöÄ XEM AR</button>
    </model-viewer>

    <div class="controls-panel">
        <button class="nav-btn" onclick="rotateModel(-45)">Xoay Tr√°i ‚ü≤</button>
        <button class="nav-btn" onclick="resetModel()">M·∫∑c ƒë·ªãnh</button>
        <button class="nav-btn" onclick="rotateModel(45)">Xoay Ph·∫£i ‚ü≥</button>
    </div>

    <script>
        const modelViewer = document.querySelector("#orbit-demo");
        let currentRotation = 0;

        // H√†m xoay v·∫≠t th·ªÉ
        function rotateModel(degrees) {
            currentRotation += degrees;
            // camera-orbit nh·∫≠n 3 tham s·ªë: [theta (ngang), phi (d·ªçc), radius (kho·∫£ng c√°ch)]
            modelViewer.cameraOrbit = `${currentRotation}deg 75deg auto`;
        }

        // H√†m ƒë∆∞a v·ªÅ v·ªã tr√≠ c≈©
        function resetModel() {
            currentRotation = 0;
            modelViewer.cameraOrbit = `0deg 75deg auto`;
        }
    </script>

</body>
</html>
